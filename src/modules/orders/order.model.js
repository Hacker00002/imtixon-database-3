const { fetch } = require("../../postgres");
// /////////////////////////////////////////////////////////////////////////////////////
// CREATE ORDE
const CREATE_ORDER = `
    INSERT INTO orders(user_id,product_id) VALUES($1,$2)
`;
// /////////////////////////////////////////////////////////////////////////////////////
// GET USER ORDERS
const GET_USER_ORDER = `
    SELECT * FROM orders join products on orders.product_id = products.id WHERE user_id = $1
`;
// GET USER ORDER COUNT
// /////////////////////////////////////////////////////////////////////////////////////
const GET_USER_ORDER_COUNT = `
    SELECT COUNT(orders.id) FROM orders WHERE user_id = $1
`;
// /////////////////////////////////////////////////////////////////////////////////////
// CREATE ORDER
const createOrder = (user_id, product_id) =>
    fetch(CREATE_ORDER, user_id, product_id);
// /////////////////////////////////////////////////////////////////////////////////////
// GET USER ORDER COUNT
const getUserOrderCount = (user_id) => fetch(GET_USER_ORDER_COUNT, user_id);
// /////////////////////////////////////////////////////////////////////////////////////
// GET USER ORDERS
const getUserOrder = (user_id) => fetch(GET_USER_ORDER, user_id);
// /////////////////////////////////////////////////////////////////////////////////////
// EXPORT MODELS
module.exports = {
    createOrder,
    getUserOrder,
    getUserOrderCount,
};
